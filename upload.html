<html>
    <head>
        <title>Upload Images</title>
        <link rel = "stylesheet" href = "css/style.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
        <script type="text/javascript" src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
        <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    </head>

    <body>
        <div id = "header">

            <div id = "title">
                <h1>Remote Image Storage</h1>
            </div>

            <div id = "nav">
                <a href="/">Home</a>
                <a href="/profile">Profile</a>
                <a href="/view" class="active">View Images</a>
                <a href="/upload">Upload Images</a>
                <a href="/settings">Settings</a>
                <a href="/logout">Logout</a>
            </div>

        </div>

        <div id = "pageName">
            <div id = "name">
                <h1>Upload an Image</h1>
            </div>
        </div>

        <div id = "main">

            <div id = "container">
                <div id="head">
                    <h2>Upload Image</h2>
                </div>

                <form id = "imageUpload" method="post" enctype="multipart/form-data" action="/upload">
                    <label for="filename">File Name</label><br>
                    <input type = "text" id = "filename" name = "filename" placeholder = "File name ..."><br>
                    <input type="file" name="file"><br>
                    <input type="submit" value="Submit">
                </form>

            </div>

        </div>

        <div id = "footer">

        </div>


    </body>
</html>

<!-- <html>

<head>
    <title>Home</title>
    <link rel = "stylesheet" href = "css/style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
</head>

<body>

    <div id="header">

    </div> 

    <div id = "sidebar">

        <div id="profile">
            <img id="profilePic" src="images/profile.png">
        </div>

        <svg height="160" width="200">
            <line x1="0" y1="160" x2="200" y2="160" style="stroke:lightgray;stroke-width:2;" />
        </svg>

        <div id = "options">
            <a href=".">Profile</a>
            <a href="/">View Images</a>
            <a href="/upload" class="active">Upload Images</a>
            <a href="/">Settings</a>
            <a href="/">Logout</a>
        </div>
    </div>

    <div id="main">

        <div id="dropzone" ondrag="drag(event)" ondrop="drop(event)" ondragover="allowDrop(event)">
            <div id="dottedBorder">
                <div id = "upload">
                    <img id = "uploadImg" src="images/UploadIcon-removebg-preview.png">
                </div>
                <div id="chooseFile">
                    <h2>Choose or Drag File Here</h2>
                </div>
                <div id="uploadBtnHolder"></div>
            </div>
        </div>

        <form id = "imageUpload" method="post" enctype="multipart/form-data" action="/upload">
            <label for="filename">File Name</label><br>
            <input type = "text" id = "filename" name = "filename" placeholder = "File name ..."><br>
            <input type="file" name="file">
            <input type="submit" value="Submit">
        </form>

    </div>

    <script src="http://localhost:8080/socket.io/socket.io.js"></script>
    <script>
        function drag(event) {
            event.preventDefault();
            var zone = document.getElementById('dropZone');
            zone.style.background = 'white';
        }

        function drop(event) {
            event.preventDefault();
            var data = event.dataTransfer.files[0];
            var reader = new FileReader();

            reader.onload = function(e2) {
                // remove the upload image
                var elem = document.getElementById("uploadImg");
                elem.remove();

                // resize & add image to div
                var img = document.createElement('img');
                img = styleImage(img);
                
                img.src= e2.target.result;
                document.getElementById("upload").appendChild(img);

                // replace text w/ button
                //document.getElementById("chooseFile").innerHTML = "<button id='compress' type='button' formaction='/upload' formmethod='post'>Upload</button>";
                document.getElementById("chooseFile").innerHTML = "<button id='compress' type='button'>Upload</button>";
                var btn = document.getElementById("compress");

                btn.addEventListener('click', function(e) {
                    var socket = io.connect('http://localhost:8080');
                    socket.emit('click', img);
                });
            }

            reader.readAsDataURL(data);
        }

        function styleImage(img) {
            img.style.width = '10vw';
            img.style.height = '20vh';

            img.style.border = '2px solid black';
            img.style.borderRadius = '5px';

            img.style.marginLeft= 'calc(50% - 5vw)';
            img.style.marginTop = '7.5vh';

            return img;
        }

        function allowDrop(event) {
            event.preventDefault();
        }

        function compress() {
            // compress uploaded image
            
        }
    </script>

</body>

</html> -->